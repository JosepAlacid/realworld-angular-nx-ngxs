(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"/JVv":function(t,e,i){"use strict";i.d(e,"b",(function(){return d})),i.d(e,"a",(function(){return b.a})),i.d(e,"c",(function(){return f})),i.d(e,"d",(function(){return u}));var c=i("2kYt"),n=i("sEIs"),r=i("yDe4"),a=i("D57K"),s=i("8j5Y"),o=i("7c07"),l=i("wzxM"),b=i("uqYu");const u={listConfig:{type:"ALL",currentPage:0,filters:{limit:10}},articles:null,articlesCount:0};var g=i("EM62");let p=(()=>{let t=class{constructor(t,e){this.conduitApi=t,this.store=e}setPage(t,{page:e}){return t.setState(Object(o.a)({listConfig:Object(o.a)({currentPage:e,filters:t=>Object.assign(Object.assign({},t),{offset:t.limit*e})})})),t.dispatch(new b.a.Load)}setListConfig(t,{config:e}){return t.setState(Object(o.a)({listConfig:e})),t.dispatch(new b.a.Load)}load(t,{}){const e=t.getState().listConfig||{};return this.conduitApi.getArticles(e).pipe(Object(s.a)(({articles:e,articlesCount:i})=>t.setState(Object(o.a)({articles:e,articlesCount:i}))))}favorite(t,{articleSlug:e}){return this.conduitApi.favoriteArticle(e).pipe(Object(s.a)(()=>t.dispatch(new b.a.Load)))}unFavorite(t,{articleSlug:e}){return this.conduitApi.unfavoriteArticle(e).pipe(Object(s.a)(()=>t.dispatch(new b.a.Load)))}getMyArticles(t,{}){const e=this.store.selectSnapshot(l.AuthSelectors.username);return this.conduitApi.getArticles({filters:{author:e}}).pipe(Object(s.a)(({articles:e,articlesCount:i})=>t.setState(Object(o.a)({articles:e,articlesCount:i}))))}getMyFavArticles(t,{}){const e=this.store.selectSnapshot(l.AuthSelectors.username);return this.conduitApi.getArticles({filters:{favorited:e}}).pipe(Object(s.a)(({articles:e,articlesCount:i})=>t.setState(Object(o.a)({articles:e,articlesCount:i}))))}};return t.\u0275fac=function(e){return new(e||t)(g.Sb(l.ConduitApiService),g.Sb(r.j))},t.\u0275prov=g.Fb({token:t,factory:t.\u0275fac}),Object(a.a)([Object(r.a)(b.a.SetPage),Object(a.b)("design:type",Function),Object(a.b)("design:paramtypes",[Object,b.a.SetPage]),Object(a.b)("design:returntype",void 0)],t.prototype,"setPage",null),Object(a.a)([Object(r.a)(b.a.SetListConfig),Object(a.b)("design:type",Function),Object(a.b)("design:paramtypes",[Object,b.a.SetListConfig]),Object(a.b)("design:returntype",void 0)],t.prototype,"setListConfig",null),Object(a.a)([Object(r.a)(b.a.Load),Object(a.b)("design:type",Function),Object(a.b)("design:paramtypes",[Object,b.a.Load]),Object(a.b)("design:returntype",void 0)],t.prototype,"load",null),Object(a.a)([Object(r.a)(b.a.Favorite),Object(a.b)("design:type",Function),Object(a.b)("design:paramtypes",[Object,b.a.Favorite]),Object(a.b)("design:returntype",void 0)],t.prototype,"favorite",null),Object(a.a)([Object(r.a)(b.a.UnFavorite),Object(a.b)("design:type",Function),Object(a.b)("design:paramtypes",[Object,b.a.UnFavorite]),Object(a.b)("design:returntype",void 0)],t.prototype,"unFavorite",null),Object(a.a)([Object(r.a)(b.a.GetMyArticles),Object(a.b)("design:type",Function),Object(a.b)("design:paramtypes",[Object,b.a.GetMyArticles]),Object(a.b)("design:returntype",void 0)],t.prototype,"getMyArticles",null),Object(a.a)([Object(r.a)(b.a.GetMyFavArticles),Object(a.b)("design:type",Function),Object(a.b)("design:paramtypes",[Object,b.a.GetMyFavArticles]),Object(a.b)("design:returntype",void 0)],t.prototype,"getMyFavArticles",null),t=Object(a.a)([Object(r.h)({name:"articleList",defaults:u})],t),t})(),d=(()=>{class t{}return t.\u0275mod=g.Hb({type:t}),t.\u0275inj=g.Gb({factory:function(e){return new(e||t)},imports:[[c.c,n.k,r.d.forFeature([p])]]}),t})(),f=(()=>{class t{static pageInfo(t,e){return{type:e.type,currentPage:e.currentPage,totalPages:Array.from(new Array(Math.ceil(t/e.filters.limit)),(t,e)=>e+1)}}static myArticles(t,e){return null==t?void 0:t.filter(t=>{var i;return(null===(i=null==t?void 0:t.author)||void 0===i?void 0:i.username)===(null==e?void 0:e.username)})}static myFavArticles(t,e){return null==t?void 0:t.filter(t=>t.favorited)}}return t.slices=function(t){const e={};return new Proxy({},{get(i,c){const n=e[c]||Object(r.m)([t],t=>null==t?void 0:t[c]);return e[c]=n,n}})}(p),Object(a.a)([Object(r.g)([t.slices.articlesCount,t.slices.listConfig]),Object(a.b)("design:type",Function),Object(a.b)("design:paramtypes",[Number,Object]),Object(a.b)("design:returntype",Object)],t,"pageInfo",null),Object(a.a)([Object(r.g)([t.slices.articles,l.AuthSelectors.slices.user]),Object(a.b)("design:type",Function),Object(a.b)("design:paramtypes",[Array,Object]),Object(a.b)("design:returntype",Array)],t,"myArticles",null),Object(a.a)([Object(r.g)([t.slices.articles,l.AuthSelectors.slices.user]),Object(a.b)("design:type",Function),Object(a.b)("design:paramtypes",[Array,Object]),Object(a.b)("design:returntype",Array)],t,"myFavArticles",null),t})()},"7c07":function(t,e,i){"use strict";function c(t){return function(e){let i=null;for(const c in t){const n=t[c],r=e[c],a="function"==typeof n?n(r):n;a!==r&&(i||(i=Object.assign({},e)),i[c]=a)}return i||e}}i.d(e,"a",(function(){return c}))},XIOX:function(t,e,i){"use strict";i.d(e,"a",(function(){return v}));var c=i("EM62"),n=i("yDe4"),r=i("uqYu"),a=i("2kYt"),s=i("sEIs");function o(t,e){if(1&t&&(c.Ob(0,"li",11),c.kc(1),c.Nb()),2&t){const t=e.$implicit;c.zb(1),c.mc(" ",t," ")}}const l=function(t){return["/profile",t]},b=function(t,e){return{"btn-outline-primary":t,"btn-primary":e}};let u=(()=>{class t{constructor(){this.toggleFavorite=new c.o,this.navigateToArticle=new c.o}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Db({type:t,selectors:[["conduit-article-list-item"]],inputs:{article:"article"},outputs:{toggleFavorite:"toggleFavorite",navigateToArticle:"navigateToArticle"},decls:23,vars:17,consts:[[1,"article-preview"],[1,"article-meta"],[3,"src"],[1,"info"],[1,"author",3,"routerLink"],[1,"date"],[1,"btn","btn-sm","pull-xs-right",3,"ngClass","click"],[1,"ion-heart"],[1,"preview-link",3,"click"],[1,"tag-list"],["class","tag-default tag-pill tag-outline",4,"ngFor","ngForOf"],[1,"tag-default","tag-pill","tag-outline"]],template:function(t,e){1&t&&(c.Ob(0,"div",0),c.Ob(1,"div",1),c.Ob(2,"a"),c.Kb(3,"img",2),c.Nb(),c.Ob(4,"div",3),c.Ob(5,"a",4),c.kc(6),c.Nb(),c.Ob(7,"span",5),c.kc(8),c.Yb(9,"date"),c.Nb(),c.Nb(),c.Ob(10,"button",6),c.Vb("click",(function(){return e.toggleFavorite.emit(e.article)})),c.Kb(11,"i",7),c.Ob(12,"div",3),c.kc(13),c.Nb(),c.Nb(),c.Nb(),c.Ob(14,"a",8),c.Vb("click",(function(){return e.navigateToArticle.emit(e.article.slug)})),c.Ob(15,"h1"),c.kc(16),c.Nb(),c.Ob(17,"p"),c.kc(18),c.Nb(),c.Ob(19,"span"),c.kc(20,"Read more..."),c.Nb(),c.Ob(21,"ul",9),c.jc(22,o,2,1,"li",10),c.Nb(),c.Nb(),c.Nb()),2&t&&(c.zb(3),c.bc("src",e.article.author.image,c.hc),c.zb(2),c.bc("routerLink",c.dc(12,l,e.article.author.username)),c.zb(1),c.mc(" ",e.article.author.username," "),c.zb(2),c.mc(" ",c.ac(9,9,e.article.createdAt,"longDate")," "),c.zb(2),c.bc("ngClass",c.ec(14,b,!e.article.favorited,e.article.favorited)),c.zb(3),c.lc(e.article.favoritesCount),c.zb(3),c.lc(e.article.title),c.zb(2),c.lc(e.article.description),c.zb(4),c.bc("ngForOf",e.article.tagList))},directives:[s.j,a.j,a.k],pipes:[a.e],styles:["[_nghost-%COMP%]{display:block}.page-link[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),t})();function g(t,e){1&t&&(c.Mb(0),c.Ob(1,"div",1),c.kc(2," Loading articles... "),c.Nb(),c.Lb())}function p(t,e){if(1&t){const t=c.Pb();c.Ob(0,"conduit-article-list-item",3),c.Vb("toggleFavorite",(function(e){return c.gc(t),c.Xb(2).toggleFavorite(e)})),c.Nb()}2&t&&c.bc("article",e.$implicit)}function d(t,e){if(1&t&&(c.Mb(0),c.jc(1,p,1,1,"conduit-article-list-item",2),c.Lb()),2&t){const t=c.Xb();c.zb(1),c.bc("ngForOf",t.articles)}}function f(t,e){1&t&&(c.Mb(0),c.Ob(1,"div",1),c.kc(2," No articles are here... yet. "),c.Nb(),c.Lb())}const O=function(t){return{active:t}};function j(t,e){if(1&t){const t=c.Pb();c.Ob(0,"li",6),c.Vb("click",(function(){c.gc(t);const i=e.$implicit;return c.Xb(2).setPage.emit(i-1)})),c.Ob(1,"a",7),c.kc(2),c.Nb(),c.Nb()}if(2&t){const t=e.$implicit,i=c.Xb(2);c.bc("ngClass",c.dc(2,O,t===i.pageInfo.currentPage+1)),c.zb(2),c.lc(t)}}function y(t,e){if(1&t&&(c.Mb(0),c.Ob(1,"ul",4),c.jc(2,j,3,4,"li",5),c.Nb(),c.Lb()),2&t){const t=c.Xb();c.zb(2),c.bc("ngForOf",t.pageInfo.totalPages)}}let v=(()=>{class t{constructor(t){this.store=t,this.setPage=new c.o}ngOnInit(){this.store.dispatch(new r.a.Load)}toggleFavorite(t){const e=t.favorited?new r.a.UnFavorite(t.slug):new r.a.Favorite(t.slug);this.store.dispatch(e)}}return t.\u0275fac=function(e){return new(e||t)(c.Jb(n.j))},t.\u0275cmp=c.Db({type:t,selectors:[["conduit-article-list"]],inputs:{articles:"articles",pageInfo:"pageInfo"},outputs:{setPage:"setPage"},decls:4,vars:4,consts:[[4,"ngIf"],[1,"app-article-preview"],[3,"article","toggleFavorite",4,"ngFor","ngForOf"],[3,"article","toggleFavorite"],[1,"pagination"],["class","page-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass","click"],[1,"page-link"]],template:function(t,e){1&t&&(c.jc(0,g,3,0,"ng-container",0),c.jc(1,d,2,1,"ng-container",0),c.jc(2,f,3,0,"ng-container",0),c.jc(3,y,3,1,"ng-container",0)),2&t&&(c.bc("ngIf",null===e.articles),c.zb(1),c.bc("ngIf",(null==e.articles?null:e.articles.length)>0),c.zb(1),c.bc("ngIf",0===(null==e.articles?null:e.articles.length)),c.zb(1),c.bc("ngIf",e.pageInfo))},directives:[a.l,a.k,u,a.j],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),t})()},uqYu:function(t,e,i){"use strict";var c;i.d(e,"a",(function(){return c})),function(t){class e{constructor(t=0){this.offset=t}}e.type="[ArticleList] Load",t.Load=e;class i{constructor(){}}i.type="[ArticleList] GetMyArticles",t.GetMyArticles=i;class c{constructor(){}}c.type="[ArticleList] GetMyFavArticles",t.GetMyFavArticles=c;class n{constructor(t){this.articleSlug=t}}n.type="[ArticleList] Favorite",t.Favorite=n;class r{constructor(t){this.articleSlug=t}}r.type="[ArticleList] Unfavorite",t.UnFavorite=r;class a{constructor(t){this.page=t}}a.type="[ArticleList] Set Page",t.SetPage=a;class s{constructor(t){this.config=t}}s.type="[ArticleList] Set List Config",t.SetListConfig=s}(c||(c={}))}}]);