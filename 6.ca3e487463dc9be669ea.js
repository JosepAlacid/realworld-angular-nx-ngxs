(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Eayj:function(t,e,n){"use strict";n.r(e),n.d(e,"HomeModule",(function(){return V}));var i=n("2kYt"),c=n("sEIs"),a=n("yDe4"),r=n("D57K"),o=n("8j5Y");function s(t){return function(e){let n=null;for(const i in t){const c=t[i],a=e[i],r="function"==typeof c?c(a):c;r!==a&&(n||(n=Object.assign({},e)),n[i]=r)}return n||e}}var b,l=n("wzxM");!function(t){class e{constructor(t=0){this.offset=t}}e.type="[ArticleList] Load",t.Load=e;class n{constructor(t){this.articleSlug=t}}n.type="[ArticleList] Favorite",t.Favorite=n;class i{constructor(t){this.articleSlug=t}}i.type="[ArticleList] Unfavorite",t.UnFavorite=i;class c{constructor(t){this.page=t}}c.type="[ArticleList] Set Page",t.SetPage=c;class a{constructor(t){this.config=t}}a.type="[ArticleList] Set List Config",t.SetListConfig=a}(b||(b={}));const g={listConfig:{type:"ALL",currentPage:0,filters:{limit:10}},articles:null,articlesCount:0};var u=n("EM62");let p=(()=>{let t=class{constructor(t){this.conduitApi=t}setPage(t,{page:e}){return t.setState(s({listConfig:s({currentPage:e,filters:t=>Object.assign(Object.assign({},t),{offset:t.limit*e})})})),t.dispatch(new b.Load)}setListConfig(t,{config:e}){return t.setState(s({listConfig:e})),t.dispatch(new b.Load)}load(t,{}){const e=t.getState().listConfig||{};return this.conduitApi.getArticles(e).pipe(Object(o.a)(({articles:e,articlesCount:n})=>t.setState(s({articles:e,articlesCount:n}))))}favorite(t,{articleSlug:e}){return this.conduitApi.favoriteArticle(e).pipe(Object(o.a)(()=>t.dispatch(new b.Load)))}unFavorite(t,{articleSlug:e}){return this.conduitApi.unfavoriteArticle(e).pipe(Object(o.a)(()=>t.dispatch(new b.Load)))}};return t.\u0275fac=function(e){return new(e||t)(u.Sb(l.ConduitApiService))},t.\u0275prov=u.Fb({token:t,factory:t.\u0275fac}),Object(r.a)([Object(a.a)(b.SetPage),Object(r.b)("design:type",Function),Object(r.b)("design:paramtypes",[Object,b.SetPage]),Object(r.b)("design:returntype",void 0)],t.prototype,"setPage",null),Object(r.a)([Object(a.a)(b.SetListConfig),Object(r.b)("design:type",Function),Object(r.b)("design:paramtypes",[Object,b.SetListConfig]),Object(r.b)("design:returntype",void 0)],t.prototype,"setListConfig",null),Object(r.a)([Object(a.a)(b.Load),Object(r.b)("design:type",Function),Object(r.b)("design:paramtypes",[Object,b.Load]),Object(r.b)("design:returntype",void 0)],t.prototype,"load",null),Object(r.a)([Object(a.a)(b.Favorite),Object(r.b)("design:type",Function),Object(r.b)("design:paramtypes",[Object,b.Favorite]),Object(r.b)("design:returntype",void 0)],t.prototype,"favorite",null),Object(r.a)([Object(a.a)(b.UnFavorite),Object(r.b)("design:type",Function),Object(r.b)("design:paramtypes",[Object,b.UnFavorite]),Object(r.b)("design:returntype",void 0)],t.prototype,"unFavorite",null),t=Object(r.a)([Object(a.h)({name:"articleList",defaults:g})],t),t})(),d=(()=>{class t{}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(e){return new(e||t)},imports:[[i.c,c.j,a.d.forFeature([p])]]}),t})(),f=(()=>{class t{static pageInfo(t,e){return{type:e.type,currentPage:e.currentPage,totalPages:Array.from(new Array(Math.ceil(t/e.filters.limit)),(t,e)=>e+1)}}}return t.slices=function(t){const e={};return new Proxy({},{get(n,i){const c=e[i]||Object(a.m)([t],t=>null==t?void 0:t[i]);return e[i]=c,c}})}(p),Object(r.a)([Object(a.g)([t.slices.articlesCount,t.slices.listConfig]),Object(r.b)("design:type",Function),Object(r.b)("design:paramtypes",[Number,Object]),Object(r.b)("design:returntype",Object)],t,"pageInfo",null),t})(),O=(()=>{class t{}return t.type="[Tags] Load",t})(),j=(()=>{let t=class{constructor(t){this.conduitApi=t}loadTags({setState:t}){return this.conduitApi.getTags().pipe(Object(o.a)(e=>t(e)))}};return t.\u0275fac=function(e){return new(e||t)(u.Sb(l.ConduitApiService))},t.\u0275prov=u.Fb({token:t,factory:t.\u0275fac}),Object(r.a)([Object(a.a)(O),Object(r.b)("design:type",Function),Object(r.b)("design:paramtypes",[Object]),Object(r.b)("design:returntype",void 0)],t.prototype,"loadTags",null),t=Object(r.a)([Object(a.h)({name:"tags",defaults:[]})],t),t})();var v=n("IdLP");let y=(()=>{class t{static getTags(t){return t}}return Object(r.a)([Object(a.g)([j]),Object(r.b)("design:type",Function),Object(r.b)("design:paramtypes",[Array]),Object(r.b)("design:returntype",void 0)],t,"getTags",null),t})();function h(t,e){if(1&t&&(u.Ob(0,"a",3),u.kc(1),u.Nb()),2&t){const t=e.$implicit;u.zb(1),u.lc(t)}}function m(t,e){if(1&t&&(u.Mb(0),u.Ob(1,"p"),u.kc(2,"Popular Tags"),u.Nb(),u.Ob(3,"div",1),u.jc(4,h,2,1,"a",2),u.Nb(),u.Lb()),2&t){const t=e.ngIf;u.zb(4),u.bc("ngForOf",t)}}let F=(()=>{class t{constructor(t){this.store=t}ngOnInit(){this.store.dispatch(new O)}}return t.\u0275fac=function(e){return new(e||t)(u.Jb(a.j))},t.\u0275cmp=u.Db({type:t,selectors:[["conduit-tag-list"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"tag-list"],["href","","class","tag-pill tag-default",4,"ngFor","ngForOf"],["href","",1,"tag-pill","tag-default"]],template:function(t,e){1&t&&(u.jc(0,m,5,1,"ng-container",0),u.Yb(1,"async")),2&t&&u.bc("ngIf",u.Zb(1,1,e.tags$))},directives:[i.l,i.k],pipes:[i.b],styles:[""],changeDetection:0}),Object(r.a)([Object(a.f)(y.getTags),Object(r.b)("design:type",v.a)],t.prototype,"tags$",void 0),t})(),k=(()=>{class t{}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(e){return new(e||t)},imports:[[i.c,a.d.forFeature([j])]]}),t})();function N(t,e){if(1&t&&(u.Ob(0,"li",11),u.kc(1),u.Nb()),2&t){const t=e.$implicit;u.zb(1),u.mc(" ",t," ")}}const L=function(t){return["/profile",t]},w=function(t,e){return{"btn-outline-primary":t,"btn-primary":e}};let C=(()=>{class t{constructor(){this.toggleFavorite=new u.o,this.navigateToArticle=new u.o}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Db({type:t,selectors:[["conduit-article-list-item"]],inputs:{article:"article"},outputs:{toggleFavorite:"toggleFavorite",navigateToArticle:"navigateToArticle"},decls:23,vars:17,consts:[[1,"article-preview"],[1,"article-meta"],[3,"src"],[1,"info"],[1,"author",3,"routerLink"],[1,"date"],[1,"btn","btn-sm","pull-xs-right",3,"ngClass","click"],[1,"ion-heart"],[1,"preview-link",3,"click"],[1,"tag-list"],["class","tag-default tag-pill tag-outline",4,"ngFor","ngForOf"],[1,"tag-default","tag-pill","tag-outline"]],template:function(t,e){1&t&&(u.Ob(0,"div",0),u.Ob(1,"div",1),u.Ob(2,"a"),u.Kb(3,"img",2),u.Nb(),u.Ob(4,"div",3),u.Ob(5,"a",4),u.kc(6),u.Nb(),u.Ob(7,"span",5),u.kc(8),u.Yb(9,"date"),u.Nb(),u.Nb(),u.Ob(10,"button",6),u.Vb("click",(function(){return e.toggleFavorite.emit(e.article)})),u.Kb(11,"i",7),u.Ob(12,"div",3),u.kc(13),u.Nb(),u.Nb(),u.Nb(),u.Ob(14,"a",8),u.Vb("click",(function(){return e.navigateToArticle.emit(e.article.slug)})),u.Ob(15,"h1"),u.kc(16),u.Nb(),u.Ob(17,"p"),u.kc(18),u.Nb(),u.Ob(19,"span"),u.kc(20,"Read more..."),u.Nb(),u.Ob(21,"ul",9),u.jc(22,N,2,1,"li",10),u.Nb(),u.Nb(),u.Nb()),2&t&&(u.zb(3),u.bc("src",e.article.author.image,u.hc),u.zb(2),u.bc("routerLink",u.dc(12,L,e.article.author.username)),u.zb(1),u.mc(" ",e.article.author.username," "),u.zb(2),u.mc(" ",u.ac(9,9,e.article.createdAt,"longDate")," "),u.zb(2),u.bc("ngClass",u.ec(14,w,!e.article.favorited,e.article.favorited)),u.zb(3),u.lc(e.article.favoritesCount),u.zb(3),u.lc(e.article.title),u.zb(2),u.lc(e.article.description),u.zb(4),u.bc("ngForOf",e.article.tagList))},directives:[c.i,i.j,i.k],pipes:[i.e],styles:["[_nghost-%COMP%]{display:block}.page-link[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),t})();function A(t,e){1&t&&(u.Mb(0),u.Ob(1,"div",1),u.kc(2," Loading articles... "),u.Nb(),u.Lb())}function I(t,e){if(1&t){const t=u.Pb();u.Ob(0,"conduit-article-list-item",3),u.Vb("toggleFavorite",(function(e){return u.gc(t),u.Xb(2).toggleFavorite(e)})),u.Nb()}2&t&&u.bc("article",e.$implicit)}function P(t,e){if(1&t&&(u.Mb(0),u.jc(1,I,1,1,"conduit-article-list-item",2),u.Lb()),2&t){const t=u.Xb();u.zb(1),u.bc("ngForOf",t.articles)}}function S(t,e){1&t&&(u.Mb(0),u.Ob(1,"div",1),u.kc(2," No articles are here... yet. "),u.Nb(),u.Lb())}const z=function(t){return{active:t}};function T(t,e){if(1&t){const t=u.Pb();u.Ob(0,"li",6),u.Vb("click",(function(){u.gc(t);const n=e.$implicit;return u.Xb(2).setPage.emit(n-1)})),u.Ob(1,"a",7),u.kc(2),u.Nb(),u.Nb()}if(2&t){const t=e.$implicit,n=u.Xb(2);u.bc("ngClass",u.dc(2,z,t===n.pageInfo.currentPage+1)),u.zb(2),u.lc(t)}}function $(t,e){if(1&t&&(u.Mb(0),u.Ob(1,"ul",4),u.jc(2,T,3,4,"li",5),u.Nb(),u.Lb()),2&t){const t=u.Xb();u.zb(2),u.bc("ngForOf",t.pageInfo.totalPages)}}let M=(()=>{class t{constructor(t){this.store=t,this.setPage=new u.o}ngOnInit(){this.store.dispatch(new b.Load)}toggleFavorite(t){const e=t.favorited?new b.UnFavorite(t.slug):new b.Favorite(t.slug);this.store.dispatch(e)}}return t.\u0275fac=function(e){return new(e||t)(u.Jb(a.j))},t.\u0275cmp=u.Db({type:t,selectors:[["conduit-article-list"]],inputs:{articles:"articles",pageInfo:"pageInfo"},outputs:{setPage:"setPage"},decls:4,vars:4,consts:[[4,"ngIf"],[1,"app-article-preview"],[3,"article","toggleFavorite",4,"ngFor","ngForOf"],[3,"article","toggleFavorite"],[1,"pagination"],["class","page-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass","click"],[1,"page-link"]],template:function(t,e){1&t&&(u.jc(0,A,3,0,"ng-container",0),u.jc(1,P,2,1,"ng-container",0),u.jc(2,S,3,0,"ng-container",0),u.jc(3,$,3,1,"ng-container",0)),2&t&&(u.bc("ngIf",null===e.articles),u.zb(1),u.bc("ngIf",(null==e.articles?null:e.articles.length)>0),u.zb(1),u.bc("ngIf",0===(null==e.articles?null:e.articles.length)),u.zb(1),u.bc("ngIf",e.pageInfo))},directives:[i.l,i.k,C,i.j],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),t})();const D=function(t,e){return{active:t,disabled:e}},X=function(t){return{active:t}};function Y(t,e){if(1&t){const t=u.Pb();u.Ob(0,"div",5),u.Ob(1,"div",6),u.Ob(2,"div",7),u.Ob(3,"div",8),u.Ob(4,"ul",9),u.Ob(5,"li",10),u.Ob(6,"button",11),u.Vb("click",(function(){return u.gc(t),u.Xb().onArticleTypeChange("FEED")})),u.Yb(7,"async"),u.Yb(8,"async"),u.kc(9," Your Feed "),u.Nb(),u.Nb(),u.Ob(10,"li",10),u.Ob(11,"button",12),u.Vb("click",(function(){return u.gc(t),u.Xb().onArticleTypeChange("ALL")})),u.kc(12," Global Feed "),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Ob(13,"conduit-article-list",13),u.Vb("setPage",(function(e){return u.gc(t),u.Xb().onSetPage(e)})),u.Yb(14,"async"),u.Nb(),u.Nb(),u.Ob(15,"div",14),u.Ob(16,"div",15),u.Kb(17,"conduit-tag-list"),u.Nb(),u.Nb(),u.Nb(),u.Nb()}if(2&t){const t=e.ngIf,n=u.Xb();u.zb(6),u.bc("ngClass",u.ec(11,D,"FEED"===t.type,!u.Zb(7,5,n.loggedIn$)))("disabled",!u.Zb(8,7,n.loggedIn$)),u.zb(5),u.bc("ngClass",u.dc(14,X,"ALL"===t.type)),u.zb(2),u.bc("articles",u.Zb(14,9,n.articleList$))("pageInfo",t)}}let E=(()=>{class t{constructor(t){this.store=t}onSetPage(t){this.store.dispatch(new b.SetPage(t))}onArticleTypeChange(t){this.store.dispatch(new b.SetListConfig(Object.assign(Object.assign({},g.listConfig),{type:t})))}}return t.\u0275fac=function(e){return new(e||t)(u.Jb(a.j))},t.\u0275cmp=u.Db({type:t,selectors:[["conduit-home"]],decls:9,vars:3,consts:[[1,"home-page"],[1,"banner"],[1,"container"],[1,"logo-font"],["class","container page",4,"ngIf"],[1,"container","page"],[1,"row"],[1,"col-md-9"],[1,"feed-toggle"],[1,"nav","nav-pills","outline-active"],[1,"nav-item"],[1,"nav-link",3,"ngClass","disabled","click"],[1,"nav-link","active",3,"ngClass","click"],[3,"articles","pageInfo","setPage"],[1,"col-md-3"],[1,"sidebar"]],template:function(t,e){1&t&&(u.Ob(0,"div",0),u.Ob(1,"div",1),u.Ob(2,"div",2),u.Ob(3,"h1",3),u.kc(4,"conduit"),u.Nb(),u.Ob(5,"p"),u.kc(6,"A place to share your knowledge."),u.Nb(),u.Nb(),u.Nb(),u.jc(7,Y,18,16,"div",4),u.Yb(8,"async"),u.Nb()),2&t&&(u.zb(7),u.bc("ngIf",u.Zb(8,1,e.pageInfo$)))},directives:[i.l,i.j,M,F],pipes:[i.b],styles:[""]}),Object(r.a)([Object(a.f)(l.AuthSelectors.loggedIn),Object(r.b)("design:type",v.a)],t.prototype,"loggedIn$",void 0),Object(r.a)([Object(a.f)(f.slices.articles),Object(r.b)("design:type",v.a)],t.prototype,"articleList$",void 0),Object(r.a)([Object(a.f)(f.pageInfo),Object(r.b)("design:type",v.a)],t.prototype,"pageInfo$",void 0),t})(),V=(()=>{class t{}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(e){return new(e||t)},imports:[[i.c,c.j.forChild([{path:"",pathMatch:"full",component:E}]),k,d]]}),t})()}}]);